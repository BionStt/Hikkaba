@using System.Threading.Tasks
@using Hikkaba.Web.Utils
@model Hikkaba.Web.ViewModels.PostsViewModels.Attachments.VideoViewModel

@{
    var fileSizeString = FileSizeStringifier.Stringify(@Model.Size);
    var filePropertiesString = $".{Model.FileExtension}, {fileSizeString}";
}

<li>
    <div>
        <p><a href="@await Component.InvokeAsync("StorageToUri", new {containerName = @Model.ThreadId.ToString(), blobName = @Model.Id.ToString()})" download="@Model.Id.ToString().@Model.FileExtension">@filePropertiesString</a></p>
        <video src="@await Component.InvokeAsync("StorageToUri", new {containerName = @Model.ThreadId.ToString(), blobName = @Model.Id.ToString()})" controls="controls">
            Video (@filePropertiesString)
        </video>
    </div>
</li>